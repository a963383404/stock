{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <script src="https://img.hcharts.cn/jquery/jquery-1.8.3.min.js"></script>
    <script src="{% static 'layer/layer.js' %}"></script>
    <style type="text/css">
        .pointer {
            cursor: pointer;
        }

        .pointer:hover {
            background-color: yellow;
        }
    </style>
</head>
<body>
<ul>
    {% for i in szData %}
        <li>
            <a href="/show/szstock/?code={{ i.stock.code }}">{{ i.stock.name }}({{ i.stock.code }})</a>
            &nbsp;&nbsp;&nbsp;<span class="pointer" onclick="show('sz{{ i.stock.code }}', '{{ i.stock.name }}')">查看k线图</span>
        </li>
    {% endfor %}
</ul>
<ul>
    {% for i in shData %}
        <li>
            <a href="/show/shstock/?code={{ i.stock.code }}">{{ i.stock.name }}({{ i.stock.code }})</a>
            &nbsp;&nbsp;&nbsp;
            <span class="pointer" onclick="show('sh{{ i.stock.code }}', '{{ i.stock.name }}')">查看k线图</span>
        </li>
    {% endfor %}
</ul>
</body>
<script type="text/javascript">
    var layerIndex;

    function show(code, name) {
        if (layerIndex) layer.close(layerIndex);
        var url = 'http://finance.sina.com.cn/realstock/company/' + code + '/nc.shtml';
        console.log(url);
        layerIndex = layer.open({
            type: 2,
            title: name,
            shadeClose: true,
            shade: false,
            maxmin: true, //开启最大化最小化按钮
            area: ['668px', '468px'],
            content: url
        });
        layer.full(layerIndex);
    }
</script>
</html>